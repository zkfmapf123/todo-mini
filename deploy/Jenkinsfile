pipeline {
    agent any

    parameters {
        string(name : "DOCKER_PATH", defaultValue : "deploy", description : "docker image path")
        string(name : "DOCKER_IMAGE", defaultValue : "demo", description : "docker image")
        string(name : "DOCKER_ENV", defaultValue: "dev", description : "docker env")
        string(name : "DOCKER_VERSION", defaultValue : "1.0.0", description : "docker tag")
    }


    environment {
        REGION = "ap-northeast-2"
        ECR_REPOSITORY = ""
        ECR_DOCKER_NAME = ""
        ECR_DOCKER_TAG = ""
    }

    stages {

        stage("CI Test") {
            steps {
                nodejs(nodeJSInstallationName: 'node 16.19.0') {
                    sh '''
                        npm install
                        jest
                    '''
                }
            }
        }

        stage("test") {
            steps {
                echo "hihi"
            }
        }
    }

    post {
        always {
            echo "always"
        }

        cleanup {
            echo "Post Cleanup"
        }
    }
}